---
layout: default
---

{% assign total_words = 0 %}
{% for post in site.posts %}
  {% assign post_words = post.content | strip_html | strip_newlines | split: ' ' | size %}
  {% assign total_words = total_words | plus: post_words %}
{% endfor %}

<div class="home-view">
  <section class="hero">
    <div class="hero-left">
      <h1>Writing<br>about <em>ideas</em><br>and craft.</h1>
      <p>{{ site.description }}</p>
    </div>

    <div class="hero-right">
      <div class="stat-row">
        <div class="stat">
          <span class="stat-num">{{ site.posts | size }}</span>
          <span class="stat-label">Posts</span>
        </div>
        <div class="stat">
          <span class="stat-num">{{ site.tag_taxonomy | size }}</span>
          <span class="stat-label">Topics</span>
        </div>
        <div class="stat">
          <span class="stat-num">{{ total_words }}</span>
          <span class="stat-label">Words</span>
        </div>
      </div>
    </div>
  </section>

  <section class="search-wrap" aria-label="Search and filter posts">
    <input
      type="text"
      class="search-box"
      id="searchInput"
      placeholder="Search posts..."
      aria-label="Search posts"
    >

    <div class="tags-filter" id="tagsFilter">
      <button class="tag-btn active" data-tag-filter="all" type="button">All</button>
      {% assign taxonomy_tags = site.tag_taxonomy | default: empty %}
      {% for tag_name in taxonomy_tags %}
        <button class="tag-btn" data-tag-filter="{{ tag_name | downcase }}" type="button">{{ tag_name }}</button>
      {% endfor %}
      {% assign discovered_tags = site.tags | map: "first" | sort %}
      {% for tag_name in discovered_tags %}
        {% unless taxonomy_tags contains tag_name %}
          <button class="tag-btn" data-tag-filter="{{ tag_name | downcase }}" type="button">{{ tag_name }}</button>
        {% endunless %}
      {% endfor %}
    </div>
  </section>

  <div class="divider">
    <div class="divider-line"></div>
    <span class="divider-label">Latest Posts</span>
    <div class="divider-line"></div>
  </div>

  <section class="posts-grid" id="postsGrid">
    {% for post in site.posts %}
      {% assign post_words = post.content | strip_html | strip_newlines | split: ' ' | size %}
      {% assign read_minutes = post_words | plus: 219 | divided_by: 220 %}
      {% if read_minutes < 1 %}
        {% assign read_minutes = 1 %}
      {% endif %}

      <a
        class="post-card{% if forloop.first %} featured{% endif %}"
        href="{{ post.url | relative_url }}"
        data-tags="{{ post.tags | join: '|' | downcase }}"
      >
        <div class="post-meta">
          <span class="post-date">{{ post.date | date: "%b %Y" }}</span>

          {% if post.tags and post.tags.size > 0 %}
            {% for tag in post.tags limit: 3 %}
              <span class="post-tag">{{ tag }}</span>
            {% endfor %}
          {% else %}
            <span class="post-tag">Untagged</span>
          {% endif %}

          <span class="read-time">{{ read_minutes }} min read</span>
        </div>

        <h2 class="post-title">{{ post.title }}</h2>
        <p class="post-excerpt">{{ post.excerpt | strip_html | strip_newlines | truncate: 220 }}</p>

        <div class="post-footer">
          <span class="read-more">Read essay <span class="arrow" aria-hidden="true">â†’</span></span>
        </div>
      </a>
    {% endfor %}
  </section>

  <p id="noResults" class="no-results" hidden>No posts match your current filter.</p>
</div>
